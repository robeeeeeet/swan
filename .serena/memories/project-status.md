# Swan PWA ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç¾çŠ¶ï¼ˆæ›´æ–°: 2025-11-30ï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: Swanï¼ˆã‚¹ãƒ¯ãƒ³ï¼‰- ç¦ç…™ãƒ»æ¸›ç…™æ”¯æ´PWA
- **ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1 ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–å±¤å®Œäº† âœ…
- **é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º**: Phase 1 å¾ŒåŠï¼ˆSOSæ©Ÿèƒ½ã€å±¥æ­´ã€è¨­å®šãƒšãƒ¼ã‚¸å®Ÿè£…äºˆå®šï¼‰

## æœ€æ–°ã®å®Ÿè£…çŠ¶æ³

### âœ… Phase 1 å®Œäº†é …ç›®ï¼ˆ2025-11-30ï¼‰

#### 1. FirebaseåŸºç›¤
- **lib/firebase/config.ts** - FirebaseåˆæœŸåŒ–ã€ç’°å¢ƒå¤‰æ•°æ¤œè¨¼
- **lib/firebase/auth.ts** - èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
  - åŒ¿åèªè¨¼ (`signInAnonymous`)
  - Googleèªè¨¼ (`signInWithGoogle`)
  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒªãƒ³ã‚¯ (`linkAnonymousWithGoogle`)
  - èªè¨¼çŠ¶æ…‹ç›£è¦– (`onAuthChange`)

#### 2. TypeScriptå‹å®šç¾©
- **types/index.ts** - å®Œå…¨ãªå‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 
  - `UserProfile` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
  - `SmokingRecord` - å–«ç…™ãƒ»æˆ‘æ…¢è¨˜éŒ²
  - `DailySummary` - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼
  - `UserSettings` - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼ˆé€šçŸ¥ã€ç›®æ¨™ã€ã‚¢ãƒ—ãƒªè¨­å®šï¼‰
  - `SituationTag` - 10ç¨®é¡ã®çŠ¶æ³ã‚¿ã‚°
  - `RecordType` - `smoked`, `craved`, `resisted`
  - `CoachingMessage`, `PushSubscription`, `SOSSession` ä»–

#### 3. å®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«
- **constants/tags.ts** - çŠ¶æ³ã‚¿ã‚°å®šç¾©ï¼ˆ10ç¨®é¡ã€çµµæ–‡å­—ä»˜ãï¼‰
- **constants/messages.ts** - åŠ±ã¾ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€Tipsã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
  - RESISTANCE_MESSAGES (6ç¨®é¡)
  - RANDOM_TIPS (10ç¨®é¡)
  - ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°ã€é­”ã®æ™‚é–“å¸¯ã‚¢ãƒ©ãƒ¼ãƒˆç”¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### 4. Zustandã‚¹ãƒˆã‚¢
- **store/userStore.ts** - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼çŠ¶æ…‹ç®¡ç†ï¼ˆlocalStorageæ°¸ç¶šåŒ–ï¼‰
- **store/recordsStore.ts** - å–«ç…™è¨˜éŒ²ãƒ»ã‚µãƒãƒªãƒ¼ç®¡ç†
- **store/settingsStore.ts** - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šç®¡ç†ï¼ˆlocalStorageæ°¸ç¶šåŒ–ï¼‰

#### 5. ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
- **hooks/useAuth.ts** - èªè¨¼ãƒ•ãƒƒã‚¯
  - èªè¨¼çŠ¶æ…‹ã®ç›£è¦–
  - åŒ¿å/Googleãƒ­ã‚°ã‚¤ãƒ³
  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒªãƒ³ã‚¯
  - ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆ

#### 6. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **components/ui/Button.tsx** - 7ãƒãƒªã‚¢ãƒ³ãƒˆã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
- **components/ui/Card.tsx** - Card, CardHeader, CardContent, CardFooter
- **components/ui/Modal.tsx** - Portalã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒˆãƒ©ãƒƒãƒ—ã€iOS Safe Areaå¯¾å¿œ
- **components/ui/Celebration.tsx** - ç¥ç¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæˆ‘æ…¢æˆåŠŸæ™‚ç­‰ã«ä½¿ç”¨ï¼‰

#### 7. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **components/dashboard/RecordButton.tsx** - 3ç¨®é¡ã®è¨˜éŒ²ãƒœã‚¿ãƒ³
  - `smoked` (ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ãƒ»ã‚°ãƒ¬ãƒ¼)
  - `craved` (è­¦å‘Šãƒ»ã‚¢ãƒ³ãƒãƒ¼)
  - `resisted` (æˆåŠŸãƒ»ã‚°ãƒªãƒ¼ãƒ³)
- **components/dashboard/GoalHeader.tsx** - ç›®æ¨™é€²æ—ãƒ˜ãƒƒãƒ€ãƒ¼
- **components/dashboard/RandomTip.tsx** - ãƒ©ãƒ³ãƒ€ãƒ Tipsè¡¨ç¤º

#### 8. ãƒšãƒ¼ã‚¸å®Ÿè£…
- **app/page.tsx** - ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ï¼ˆèªè¨¼çŠ¶æ…‹ã«å¿œã˜ãŸãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
- **app/(auth)/signin/page.tsx** - ã‚µã‚¤ãƒ³ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
  - åŒ¿åãƒ­ã‚°ã‚¤ãƒ³
  - Googleãƒ­ã‚°ã‚¤ãƒ³
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **app/(main)/layout.tsx** - ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ã‚¬ãƒ¼ãƒ‰ï¼‰
- **app/(main)/dashboard/page.tsx** - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  - 3ã¤ã®è¨˜éŒ²ãƒœã‚¿ãƒ³
  - ç›®æ¨™é€²æ—è¡¨ç¤º
  - çŠ¶æ³ã‚¿ã‚°é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«
  - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒˆãƒ¼ã‚¹ãƒˆ

### ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```
swan/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â””â”€â”€ signin/
â”‚   â”‚       â””â”€â”€ page.tsx          âœ… ã‚µã‚¤ãƒ³ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ (main)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx            âœ… èªè¨¼ã‚¬ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚       â””â”€â”€ page.tsx          âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ sos/                      ğŸ“ (ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿ - Phase 1å¾ŒåŠã§å®Ÿè£…äºˆå®š)
â”‚   â”œâ”€â”€ api/                      ğŸ“ (ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿)
â”‚   â”œâ”€â”€ layout.tsx                âœ… ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ globals.css               âœ… Swanãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â””â”€â”€ page.tsx                  âœ… ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ Button.tsx           âœ…
â”‚   â”‚   â”œâ”€â”€ Card.tsx             âœ…
â”‚   â”‚   â”œâ”€â”€ Modal.tsx            âœ…
â”‚   â””â”€â”€ Celebration.tsx      âœ…
â””â”€â”€ dashboard/
â”‚       â”œâ”€â”€ RecordButton.tsx     âœ…
â”‚       â”œâ”€â”€ GoalHeader.tsx       âœ…
â”‚       â””â”€â”€ RandomTip.tsx        âœ…
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts               âœ…
â”‚   â””â”€â”€ useRecords.ts            âœ… NEW!
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ firebase/
â”‚   â”‚   â”œâ”€â”€ config.ts            âœ…
â”‚   â”‚   â”œâ”€â”€ auth.ts              âœ…
â”‚   â”‚   â””â”€â”€ firestore.ts         âœ… NEW!
â”‚   â”œâ”€â”€ indexeddb/               âœ… NEW! (å®Œå…¨å®Ÿè£…)
â”‚   â”‚   â”œâ”€â”€ db.ts                âœ…
â”‚   â”‚   â”œâ”€â”€ records.ts           âœ…
â”‚   â”‚   â”œâ”€â”€ summaries.ts         âœ…
â”‚   â”‚   â”œâ”€â”€ settings.ts          âœ…
â”‚   â”‚   â”œâ”€â”€ sync.ts              âœ…
â”‚   â”‚   â””â”€â”€ index.ts             âœ…
â”‚   â”œâ”€â”€ utils/                   âœ… NEW!
â”‚   â”‚   â””â”€â”€ summary.ts           âœ…
â”‚   â”œâ”€â”€ ai/                      ğŸ“ (ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿)
â”‚   â””â”€â”€ push/                    ğŸ“ (ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿)
â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ userStore.ts             âœ…
â”‚   â”œâ”€â”€ recordsStore.ts          âœ…
â”‚   â””â”€â”€ settingsStore.ts         âœ…
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                 âœ…
â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ tags.ts                  âœ…
â”‚   â””â”€â”€ messages.ts              âœ…
â”œâ”€â”€ public/
â”‚   â””â”€â”€ manifest.json            âœ…
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ requirements.md          âœ…
â”‚   â”œâ”€â”€ development-plan.md      âœ…
â”‚   â”œâ”€â”€ memo.md                  âœ…
â”‚   â””â”€â”€ setup-guide.md           âœ… NEW!
â”œâ”€â”€ .env.example                 âœ…
â”œâ”€â”€ package.json                 âœ…
â””â”€â”€ next.config.ts               âœ…
```

### ğŸ¯ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ã®è©³ç´°

#### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½

1. **ç›®æ¨™é€²æ—ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆB-01ï¼‰**
   - ã€Œä»Šæ—¥ã®ç›®æ¨™: ã‚ã¨â—‹æœ¬ã€è¡¨ç¤º
   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
   - ç›®æ¨™é”æˆ/è¶…éæ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

2. **ãƒ©ãƒ³ãƒ€ãƒ Tipsï¼ˆB-02ï¼‰**
   - 10ç¨®é¡ã®Tipsã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤º
   - 5åˆ†ã”ã¨ã«è‡ªå‹•æ›´æ–°

3. **è¨˜éŒ²ãƒœã‚¿ãƒ³ï¼ˆA-01, A-02, A-03ï¼‰**
   - ã€Œå¸ã£ãŸã€ãƒœã‚¿ãƒ³ - ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ï¼ˆã‚°ãƒ¬ãƒ¼ï¼‰
   - ã€Œå¸ã„ãŸã„ã€ãƒœã‚¿ãƒ³ - è­¦å‘Šï¼ˆã‚¢ãƒ³ãƒãƒ¼ï¼‰
   - ã€Œæˆ‘æ…¢ã§ããŸã€ãƒœã‚¿ãƒ³ - æˆåŠŸï¼ˆã‚°ãƒªãƒ¼ãƒ³ï¼‰
   - ä»Šæ—¥ã®ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º

4. **çŠ¶æ³ã‚¿ã‚°é¸æŠï¼ˆA-04ï¼‰**
   - 10ç¨®é¡ã®ã‚¿ã‚°ï¼ˆé£Ÿå¾Œã€ä¼‘æ†©ã€ã‚¹ãƒˆãƒ¬ã‚¹ç­‰ï¼‰
   - è¤‡æ•°é¸æŠå¯èƒ½
   - çµµæ–‡å­—ä»˜ãUI

5. **ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**
   - æˆ‘æ…¢æˆåŠŸæ™‚: åŠ±ã¾ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆ6ç¨®é¡ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ï¼‰
   - å–«ç…™è¨˜éŒ²æ™‚: ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æ©Ÿèƒ½ï¼ˆNEW! 2025-11-30ï¼‰

1. **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆ**
   - ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿æ“ä½œã¯ã¾ãšIndexedDBã«ä¿å­˜
   - ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ™‚ã¯è‡ªå‹•çš„ã«Firestoreã«åŒæœŸ
   - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã¯åŒæœŸã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ã•ã‚Œã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ™‚ã«è‡ªå‹•åŒæœŸ

2. **IndexedDBæ§‹é€ **
   - **records** - å–«ç…™è¨˜éŒ²ï¼ˆsmoked, craved, resistedï¼‰
   - **summaries** - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼ï¼ˆçµ±è¨ˆã€ç¯€ç´„é¡ã€ã‚¿ã‚°åˆ†æï¼‰
   - **settings** - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼ˆé€šçŸ¥ã€ç›®æ¨™ã€ã‚¢ãƒ—ãƒªè¨­å®šï¼‰
   - **syncQueue** - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚­ãƒ¥ãƒ¼

3. **åŒæœŸæ©Ÿèƒ½**
   - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰è‡ªå‹•åŒæœŸï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ™‚ï¼‰
   - åŒæœŸã‚­ãƒ¥ãƒ¼ã®é‡è¤‡æ’é™¤
   - ãƒªãƒˆãƒ©ã‚¤ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼ˆæœ€å¤§3å›ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

4. **çµ±è¨ˆè¨ˆç®—**
   - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼è‡ªå‹•é›†è¨ˆ
   - ç¯€ç´„é‡‘é¡ãƒ»æ™‚é–“è¨ˆç®—
   - æŠµæŠ—æˆåŠŸç‡è¨ˆç®—
   - ç›®æ¨™é”æˆçŠ¶æ³åˆ¤å®š

#### èªè¨¼ãƒ•ãƒ­ãƒ¼

1. **ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆ/ï¼‰**
   - èªè¨¼æ¸ˆã¿ â†’ `/dashboard` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - æœªèªè¨¼ â†’ `/auth/signin` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

2. **ã‚µã‚¤ãƒ³ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆ/auth/signinï¼‰**
   - åŒ¿åãƒ­ã‚°ã‚¤ãƒ³
   - Googleãƒ­ã‚°ã‚¤ãƒ³
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
   - ãƒ­ã‚°ã‚¤ãƒ³å¾Œ â†’ `/dashboard` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

3. **ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèªè¨¼ã‚¬ãƒ¼ãƒ‰**
   - æœªèªè¨¼æ™‚ã¯ `/auth/signin` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹è¡¨ç¤º

### âœ… Phase 1 å®Œäº†é …ç›®ï¼ˆç¶šãï¼‰

#### 9. ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–å±¤ï¼ˆ2025-11-30 NEW!ï¼‰
- **lib/indexeddb/db.ts** - IndexedDBã‚¹ã‚­ãƒ¼ãƒã¨åˆæœŸåŒ–
  - 4ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆã‚¢: records, summaries, settings, syncQueue
  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆï¼ˆuserId, timestamp, date, typeï¼‰
  - ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ï¼ˆwithStore, withCursorï¼‰
- **lib/indexeddb/records.ts** - å–«ç…™è¨˜éŒ²CRUDæ“ä½œ
  - saveRecord, getRecord, getRecordsByUser, getRecordsByDate
  - updateRecord, deleteRecord, deleteAllRecords
  - countRecords, getLatestRecord
- **lib/indexeddb/summaries.ts** - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼CRUDæ“ä½œ
  - saveSummary, getSummary, getSummaryByDate
  - updateSummary, deleteSummary
  - aggregateSummariesï¼ˆçµ±è¨ˆé›†è¨ˆï¼‰
- **lib/indexeddb/settings.ts** - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šCRUDæ“ä½œ
  - saveSettings, getSettings, updateSettings
  - createDefaultSettings, initializeSettings
- **lib/indexeddb/sync.ts** - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚­ãƒ¥ãƒ¼ç®¡ç†
  - addToSyncQueue, getPendingSyncItems
  - removeSyncItem, incrementRetry
  - deduplicateSyncQueue, hasPendingSync
- **lib/indexeddb/index.ts** - çµ±åˆãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆï¼‰
  - saveRecord, updateRecord, deleteRecordï¼ˆè‡ªå‹•åŒæœŸï¼‰
  - processSyncQueue, syncFromFirestore
  - setupBackgroundSyncï¼ˆè‡ªå‹•ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸï¼‰

#### 10. Firestoreçµ±åˆï¼ˆ2025-11-30 NEW!ï¼‰
- **lib/firebase/firestore.ts** - Firestore CRUDæ“ä½œ
  - Records: saveRecordToFirestore, getRecordsFromFirestore, updateRecordInFirestore
  - Summaries: saveSummaryToFirestore, getSummariesFromFirestore
  - Settings: saveSettingsToFirestore, getSettingsFromFirestore

#### 11. ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼ˆ2025-11-30 NEW!ï¼‰
- **lib/utils/summary.ts** - ã‚µãƒãƒªãƒ¼è¨ˆç®—ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  - calculateDailySummaryï¼ˆæ—¥æ¬¡çµ±è¨ˆé›†è¨ˆï¼‰
  - formatMoney, formatMinutes, formatLifeRegained
  - calculateResistanceRate, checkGoalProgress

#### 12. ãƒ‡ãƒ¼ã‚¿çµ±åˆãƒ•ãƒƒã‚¯ï¼ˆ2025-11-30 NEW!ï¼‰
- **hooks/useRecords.ts** - è¨˜éŒ²æ“ä½œã®çµ±åˆãƒ•ãƒƒã‚¯
  - createRecordï¼ˆIndexedDB + Firestore + Zustandçµ±åˆï¼‰
  - updateRecord, deleteRecord
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³/ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ç®¡ç†
  - åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–

### ğŸš§ æœªå®Ÿè£…æ©Ÿèƒ½ï¼ˆPhase 1 æ®‹ã‚¿ã‚¹ã‚¯ï¼‰

#### é«˜å„ªå…ˆåº¦

1. **SOSæ©Ÿèƒ½ï¼ˆDç¾¤ï¼‰**
   - `app/sos/timer/page.tsx` - 3åˆ†ã‚¿ã‚¤ãƒãƒ¼
   - `app/sos/breathing/page.tsx` - æ·±å‘¼å¸ãƒ¢ãƒ¼ãƒ‰
   - `components/sos/Timer.tsx`, `BreathingCircle.tsx`

#### ä¸­å„ªå…ˆåº¦
2. **å±¥æ­´ãƒšãƒ¼ã‚¸**
   - `app/(main)/history/page.tsx`
   - æ—¥åˆ¥è¨˜éŒ²ä¸€è¦§
   - çµ±è¨ˆã‚°ãƒ©ãƒ•

3. **è¨­å®šãƒšãƒ¼ã‚¸**
   - `app/(main)/settings/page.tsx`
   - ç›®æ¨™è¨­å®š
   - é€šçŸ¥è¨­å®š
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†

### ğŸ“‹ Phase 2 ä»¥é™ã®ã‚¿ã‚¹ã‚¯

#### Phase 2: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å¼·åŒ–ãƒ»PWAè¨­å®š
- [ ] PWAã‚¢ã‚¤ã‚³ãƒ³ä½œæˆï¼ˆ72x72ï½512x512ï¼‰
- [ ] iOSã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
- [ ] Service Workerè¨­å®šï¼ˆnext-pwaï¼‰
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œå¼·åŒ–
- [ ] æˆæœå¯è¦–åŒ–ãƒ‘ãƒãƒ«ï¼ˆB-03ï¼‰
- [ ] ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰ï¼ˆE-02ï¼‰

#### Phase 3: Web Pushé€šçŸ¥ãƒ»AIæ©Ÿèƒ½
- [ ] Pushé€šçŸ¥è¨±å¯UI
- [ ] ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°ï¼ˆC-01ï¼‰
- [ ] é­”ã®æ™‚é–“å¸¯ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆC-02ï¼‰
- [ ] ã‚¹ãƒ†ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ææ¡ˆï¼ˆC-03ï¼‰
- [ ] ç”Ÿå­˜ç¢ºèªé€šçŸ¥ï¼ˆC-04ï¼‰
- [ ] Gemini AIçµ±åˆ
- [ ] Vercel Cron Jobsè¨­å®š

#### Phase 4: ãƒ†ã‚¹ãƒˆãƒ»æœ€é©åŒ–
- [ ] Playwrightãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç›£æŸ»
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼

## ãƒ“ãƒ«ãƒ‰çŠ¶æ³

### æœ€æ–°ãƒ“ãƒ«ãƒ‰: 2025-11-30
```
âœ“ Compiled successfully
âœ“ TypeScript checks passed
âœ“ Static pages generated: /, /dashboard, /signin
```

**è­¦å‘Š**: baseline-browser-mapping ãŒå¤ã„ï¼ˆæ©Ÿèƒ½ã«å½±éŸ¿ãªã—ï¼‰

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å³åº§ã«é–‹å§‹å¯èƒ½
1. **Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ**
   - Firebase Console ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
   - Authentication, Firestore, FCM è¨­å®š
   - `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆ`docs/setup-guide.md` å‚ç…§ï¼‰

2. **SOSæ©Ÿèƒ½å®Ÿè£…**
   - 3åˆ†ã‚¿ã‚¤ãƒãƒ¼ãƒšãƒ¼ã‚¸
   - æ·±å‘¼å¸ã‚¬ã‚¤ãƒ‰ãƒšãƒ¼ã‚¸
   - AIåŠ±ã¾ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸çµ±åˆ

3. **å±¥æ­´ãƒšãƒ¼ã‚¸å®Ÿè£…**
   - æ—¥åˆ¥è¨˜éŒ²ä¸€è¦§
   - çµ±è¨ˆã‚°ãƒ©ãƒ•
   - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
```bash
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run build        # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run start        # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆç¢ºå®šï¼‰

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 16.0.5 (App Router), React 19.2.0, TypeScript 5.x
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS 4.x
- **çŠ¶æ…‹ç®¡ç†**: Zustand 5.0.8
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Firebase 12.6.0 (Auth, Firestore, FCM)
- **PWA**: @ducanh2912/next-pwa 10.2.9
- **AI**: Gemini 2.0 Flash APIï¼ˆæœªçµ±åˆï¼‰

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**: `docs/setup-guide.md` â­ NEW!
- **è¦ä»¶å®šç¾©**: `docs/requirements.md`
- **é–‹ç™ºè¨ˆç”»**: `docs/development-plan.md`
- **æ©Ÿèƒ½ä»•æ§˜**: `docs/memo.md`
- **Claude Code ã‚¬ã‚¤ãƒ‰**: `CLAUDE.md`

## é‡è¦ãªè¨­è¨ˆåˆ¤æ–­

1. **src/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãªã—** - Next.js 16 æ¨å¥¨ã«å¾“ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç›´æ¥ app/ é…ç½®
2. **Tailwind CSS 4** - PostCSSçµ±åˆã€`@theme inline` ã§ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†
3. **Zustandæ°¸ç¶šåŒ–** - userStore ã¨ settingsStore ã¯ localStorage ã«æ°¸ç¶šåŒ–
4. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å„ªå…ˆ** - 'use client' ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§å‹•çš„æ©Ÿèƒ½å®Ÿç¾
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£** - æœ€å°ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ44pxã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã€ARIAå±æ€§
